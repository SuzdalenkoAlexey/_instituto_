<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Table with Search and Pagination</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
  /* Custom styles */
  .table-responsive {
    overflow-x: auto;
  }
</style>
</head>
<body>

<div class="container">
  <h2 class="mt-5">Table with Search and Pagination</h2>

  <input type="text" id="myInput" onkeyup="searchFunction()" class="form-control mt-3 mb-3" placeholder="Search for names..">

  <div class="table-responsive">
    <table id="myTable" class="table table-striped table-hover">
      <thead>
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>Password</th>
          <th>Number</th>
          <th>Address</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <!-- Table rows will be generated dynamically with JavaScript -->
      </tbody>
    </table>
  </div>

  <div class="pagination" id="pagination"></div>
</div>

<script>
  // Generate sample data
  let data = [];
  for (let i = 1; i <= 200; i++) {
    data.push({ name: `Name ${i}`, email: `email${i}@example.com`, password: `password${i}`, number: i, address: `Address ${i}` });
  }

  const itemsPerPage = 10;
  let currentPage = 1;

  function generateTable(startIndex) {
    const tableBody = document.querySelector('#myTable tbody');
    tableBody.innerHTML = '';
    const endIndex = Math.min(startIndex + itemsPerPage, data.length);
    for (let i = startIndex; i < endIndex; i++) {
      const row = `<tr id="row${i}">
                     <td id="name${i}">${data[i].name}</td>
                     <td id="email${i}">${data[i].email}</td>
                     <td id="password${i}">${data[i].password}</td>
                     <td id="number${i}">${data[i].number}</td>
                     <td id="address${i}">${data[i].address}</td>
                     <td><button onclick="editRow(${i})" class="btn btn-primary btn-sm">Edit</button></td>
                   </tr>`;
      tableBody.innerHTML += row;
    }
  }

  function generatePagination() {
    const totalPages = Math.ceil(data.length / itemsPerPage);
    const paginationDiv = document.querySelector('#pagination');
    paginationDiv.innerHTML = '';
    for (let i = 1; i <= totalPages; i++) {
      const link = `<a href="#" onclick="changePage(${i})" class="btn btn-secondary btn-sm">${i}</a>`;
      paginationDiv.innerHTML += link;
    }
  }

  function changePage(pageNumber) {
    currentPage = pageNumber;
    generateTable((currentPage - 1) * itemsPerPage);
    highlightCurrentPage();
  }

  function highlightCurrentPage() {
    const paginationLinks = document.querySelectorAll('.pagination a');
    paginationLinks.forEach(link => link.classList.remove('active'));
    paginationLinks[currentPage - 1].classList.add('active');
  }

  function searchFunction() {
    const input = document.getElementById('myInput');
    const filter = input.value.toUpperCase();
    const table = document.getElementById('myTable');
    const tr = table.getElementsByTagName('tr');
    for (let i = 0; i < tr.length; i++) {
      const td = tr[i].getElementsByTagName('td')[0];
      if (td) {
        const txtValue = td.textContent || td.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          tr[i].style.display = '';
        } else {
          tr[i].style.display = 'none';
        }
      }
    }
  }

  function editRow(index) {
    const row = document.getElementById(`row${index}`);
    const fields = row.getElementsByTagName('td');
    for (let i = 0; i < fields.length - 1; i++) {
      const currentText = fields[i].innerText;
      const inputField = document.createElement('input');
      inputField.setAttribute('type', 'text');
      inputField.setAttribute('value', currentText);
      fields[i].innerHTML = '';
      fields[i].appendChild(inputField);
    }
    const button = row.getElementsByTagName('button')[0];
    button.innerText = 'Save';
    button.setAttribute('onclick', `saveRow(${index})`);
  }

  function saveRow(index) {
    const row = document.getElementById(`row${index}`);
    const fields = row.getElementsByTagName('td');
    for (let i = 0; i < fields.length - 1; i++) {
      const inputValue = fields[i].getElementsByTagName('input')[0].value;
      fields[i].innerText = inputValue;
    }
    const button = row.getElementsByTagName('button')[0];
    button.innerText = 'Edit';
    button.setAttribute('onclick', `editRow(${index})`);
  }

  // Initial table generation
  generateTable(0);
  generatePagination();
  highlightCurrentPage();
</script>

</body>
</html>
